AWS 3-Tier Architecture with High Availability & Fault Tolerance
================================================================

1. PROJECT OVERVIEW
-------------------
This project implements a production-style AWS 3-Tier Architecture designed for scalability, security, and high availability.

The application is divided into three layers:

1. Web Tier (Presentation Layer)
2. Application Tier (Business Logic Layer)
3. Database Tier (Data Layer)

Traffic Flow:
User → Route53 → External ALB → Web Tier → Internal ALB → App Tier → Amazon RDS

The architecture follows DevOps and cloud best practices including network isolation, load balancing, auto scaling, and secure tier-to-tier communication.

------------------------------------------------------------

2. PROJECT OBJECTIVES
----------------------
- Design secure and scalable cloud infrastructure
- Separate web, application, and database tiers
- Implement external and internal load balancing
- Deploy backend services in private subnets
- Enable Auto Scaling for high availability
- Secure traffic using SSL/HTTPS
- Map custom domain using Route 53

------------------------------------------------------------

3. AWS SERVICES USED
--------------------
- Amazon VPC
- Public & Private Subnets
- Internet Gateway
- NAT Gateway
- Amazon EC2
- Amazon S3
- IAM Roles
- Amazon RDS (MySQL Multi-AZ)
- Application Load Balancer (External & Internal)
- Auto Scaling Group
- AWS Certificate Manager (ACM)
- Amazon Route 53

------------------------------------------------------------

4. ARCHITECTURE OVERVIEW
-------------------------
- User requests enter through Route53 DNS.
- External ALB routes traffic to Web Tier instances.
- Web Tier serves frontend and forwards API requests.
- Internal ALB distributes API traffic to App Tier instances.
- App Tier processes business logic and communicates with RDS.
- Database tier remains isolated inside private subnets.

Key Features:
- Multi-AZ deployment for fault tolerance
- Internal Load Balancer to secure backend APIs
- Private database subnet isolation
- NAT Gateway for secure outbound internet access

------------------------------------------------------------

5. END-TO-END REQUEST FLOW
---------------------------
1. User accesses application via custom domain.
2. Route53 resolves DNS and forwards traffic to External ALB.
3. External ALB routes requests to Web Tier EC2 instances.
4. Web Tier serves frontend content.
5. API requests are forwarded to Internal ALB.
6. Internal ALB routes requests to App Tier instances.
7. App Tier processes logic and queries Amazon RDS.
8. Response returns through the same secure path.

------------------------------------------------------------

6. DEPLOYMENT STEPS
-------------------

STEP 1 — VPC & Networking Setup
--------------------------------
- Create custom VPC (CIDR: 10.0.0.0/16)
- Create:
  - 2 Public Subnets (Web Tier + External ALB)
  - 2 Private App Subnets
  - 2 Private DB Subnets
- Attach Internet Gateway
- Configure NAT Gateway
- Configure route tables

STEP 2 — S3 & IAM Configuration
--------------------------------
- Create S3 bucket for application artifacts
- Upload web-tier and app-tier code
- Create IAM role with AmazonS3ReadOnlyAccess
- Attach IAM role to EC2 instances

STEP 3 — RDS Setup
------------------
- Create DB subnet group (private subnets)
- Deploy MySQL RDS instance (Multi-AZ enabled)
- Disable public access
- Allow MySQL access only from App Tier Security Group

STEP 4 — Application Tier Setup
-------------------------------
- Launch EC2 instances in private subnets
- Install runtime dependencies
- Pull code from S3
- Configure database connection
- Start application using PM2

STEP 4.2 — Internal Load Balancer
---------------------------------
- Create target group (Port 4000)
- Configure health check (/health)
- Create Internal ALB
- Attach App Tier instances

STEP 5 — Web Tier Setup
-----------------------
- Launch Web Tier EC2 instances
- Install Node.js runtime and NGINX
- Download frontend code from S3
- Configure NGINX reverse proxy to Internal ALB

STEP 5.2 — External Load Balancer
---------------------------------
- Create target group for Web Tier
- Create Internet-facing ALB
- Attach Web Tier instances

STEP 6 — Application Validation
-------------------------------
- Verify frontend accessibility via External ALB
- Validate API communication and database connectivity

STEP 7 — Auto Scaling
---------------------
- Create AMI from App Tier instance
- Create Launch Template
- Configure Auto Scaling Group
  - Minimum: 2
  - Desired: 2
  - Maximum: 4
- Attach ASG to Internal ALB

STEP 8 — SSL + Custom Domain Setup
-----------------------------------
- Request SSL certificate via ACM
- Validate domain using Route53 DNS records
- Add HTTPS listener (443) to External ALB
- Attach SSL certificate

STEP 9 — Access Application
---------------------------
- Access application securely via:
  https://your-domain-name.com

------------------------------------------------------------

7. ARCHITECTURE DECISIONS
-------------------------
- Internal ALB is used so backend APIs are not publicly accessible.
- Application and Database tiers are deployed in private subnets for security.
- Multi-AZ RDS ensures database availability during failures.
- Auto Scaling improves resilience during traffic spikes.
- NAT Gateway allows controlled outbound internet access from private subnets.

------------------------------------------------------------

8. SECURITY IMPLEMENTATION
--------------------------
- Tier-based Security Groups restrict communication.
- Database accessible only from App Tier.
- No public access to App or DB tiers.
- HTTPS enabled using ACM certificates.
- IAM roles used instead of static credentials.
- Sensitive configuration should be stored using AWS Secrets Manager.

------------------------------------------------------------

9. HIGH AVAILABILITY & FAULT TOLERANCE
--------------------------------------
- Multi-AZ subnet design
- Load balancing across multiple instances
- Auto Scaling for automatic recovery
- RDS Multi-AZ failover support

------------------------------------------------------------

10. CHALLENGES FACED & SOLUTIONS
--------------------------------
Challenges:
- Configuring NGINX reverse proxy with internal ALB.
- Managing internet access for private instances.
- SSL certificate DNS validation.

Solutions:
- Used Internal ALB DNS in nginx.conf.
- Configured NAT Gateway with private route tables.
- Used ACM DNS validation through Route53.

------------------------------------------------------------

11. DEVOPS SKILLS DEMONSTRATED
------------------------------
- AWS cloud architecture design
- Network isolation and security
- Load balancing strategy
- Auto Scaling configuration
- Linux server administration
- NGINX reverse proxy setup
- Production-style deployment mindset

------------------------------------------------------------

12. FUTURE IMPROVEMENTS
-----------------------
- Infrastructure as Code (Terraform)
- CI/CD pipeline using Jenkins or GitHub Actions
- Monitoring with CloudWatch and Grafana
- AWS WAF integration for enhanced security
- Logging and alerting improvements

------------------------------------------------------------

13. INTERVIEW TALKING POINTS
-----------------------------
- Why use Internal ALB instead of exposing App Tier?
- Difference between Web and Application tiers.
- Why NAT Gateway is required.
- How Auto Scaling improves reliability.
- Why database remains in private subnets.
- How HTTPS is enabled using ACM and Route53.

------------------------------------------------------------

14. REPOSITORY
--------------
https://github.com/harshal019/AWS-3-Tier-Architecture

============================================================

